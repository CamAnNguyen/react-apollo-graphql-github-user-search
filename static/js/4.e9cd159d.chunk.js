(this["webpackJsonpreact-github-user-search"]=this["webpackJsonpreact-github-user-search"]||[]).push([[4],{66:function(e,t,a){"use strict";a.r(t);var r,s=a(0),c=a(34),n=a(55),l=a(17),i=a(60),o=a(58),d=a.n(o),u=a(8),j=a(59);function m(e,t){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function e(t,a){var r,s,c,n,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},s="",c=null,n={headers:{"Content-Type":"application/json"}},l=Object(u.a)(Object(u.a)({mode:"cors"},n),{},{headers:Object(u.a)(Object(u.a)({},n.headers),null===a||void 0===a?void 0:a.headers)},a),e.prev=5,e.next=8,fetch(t,l);case 8:return i=e.sent,s=i.headers.get("Link"),e.next=12,i.json();case 12:r=e.sent,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),c=e.t0,console.error("Network error: ",c);case 19:return e.abrupt("return",{response:r,error:c,link:s});case 20:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}!function(e){e.LOADING="loading",e.NOT_FOUND="not found",e.FOUND="found"}(r||(r={}));var b=a(32),h=a(20),p=a(26);function g(e){return{type:p.a.SET_LOADING,payload:e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return function(){var r=Object(j.a)(d.a.mark((function r(s){var c,n,l,i,o;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(g(!0)),r.next=3,m("".concat(b.b,"?q=").concat(e,"&page=").concat(t+1,"&per_page=").concat(a),{method:"GET",headers:{Accept:"application/vnd.github.v3+json"}});case 3:if(c=r.sent,n=c.response,l=c.error,s(g(!1)),!(i=l?l.message:n.message)){r.next=10;break}return r.abrupt("return",s({type:h.a.FETCH_USERS_ERROR,payload:i}));case 10:return o=n.items.map((function(e){return e.login})),s(O(o)),r.abrupt("return",s({type:h.a.FETCH_USERS_SUCCESS,payload:Object(u.a)(Object(u.a)({},n),{},{query:e,page:t,pageSize:a})}));case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function O(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0)),t.next=3,Promise.all(e.map(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("".concat(b.a,"/").concat(t),{method:"GET",headers:{Accept:"application/vnd.github.v3+json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return r=t.sent,a(g(!1)),s=r.map((function(e){return(e.error?e.error.message:e.response.message)?null:e.response})).filter((function(e){return e})),t.abrupt("return",a({type:h.a.FETCH_USERS_INFO_SUCCESS,payload:s}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var v=a(25);var y=Object(v.a)((function(e){return e.users}),(function(e){return e})),N=a(62),w=a(64),S=a(3),k=function(e){var t=e.children,a=e.className,r=Object(w.a)(e,["children","className"]);return Object(S.jsx)("button",Object(u.a)(Object(u.a)({type:"button"},r),{},{className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ".concat(a||""),children:t}))},C=function(e){var t=e.className;return Object(S.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"})})},A=function(e){var t=e.className;return Object(S.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"})})},E=function(e){var t=e.className;return Object(S.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"})})},M=function(e){var t=e.value,a=e.column,r=e.row;return Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(S.jsx)("img",{className:"h-10 w-10 rounded-full",src:r.original[a.imgAccessor],alt:""})}),Object(S.jsxs)("div",{className:"ml-4",children:[Object(S.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t}),Object(S.jsx)("div",{className:"text-sm text-gray-500",children:r.original[a.usernameAccessor]})]})]})},z=function(e){var t=e.value,a=e.column,r=e.row;return Object(S.jsx)("div",{className:"flex items-center",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t}),Object(S.jsx)("div",{className:"text-sm text-gray-500 break-words",children:r.original[a.bioAccessor]}),Object(S.jsxs)("div",{className:"text-sm",children:[Object(S.jsx)("span",{className:"text-gray-500 font-medium",children:"Blog:"}),Object(S.jsx)("span",{className:"text-gray-500 ml-0.5",children:r.original[a.blogAccessor]})]}),Object(S.jsxs)("div",{className:"text-sm",children:[Object(S.jsx)("span",{className:"text-gray-500 font-medium",children:"Followers:"}),Object(S.jsx)("span",{className:"text-gray-500 ml-0.5",children:r.original[a.followersAccessor]}),Object(S.jsx)("span",{className:"text-gray-500 font-medium ml-0.5",children:"- Following:"}),Object(S.jsx)("span",{className:"text-gray-500 ml-0.5",children:r.original[a.followingAccessor]}),Object(S.jsx)("span",{className:"text-gray-500 font-medium ml-0.5",children:"- Public Repositories:"}),Object(S.jsx)("span",{className:"text-gray-500 ml-0.5",children:r.original[a.pubReposAccessor]})]})]})})},P=function(e){var t=e.columns,a=e.data,r=e.fetchData,c=e.pageIndex,l=e.totalCount,o=e.pageSize,d=Math.ceil(l/o),j=Object(N.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10},manualPagination:!0,pageCount:d},N.useSortBy,N.usePagination),m=j.getTableProps,x=j.getTableBodyProps,b=j.headerGroups,h=j.prepareRow,p=j.page;Object(s.useEffect)((function(){r({pageIndex:c,pageSize:o})}),[r,c,o]);if(!a||0===a.length)return Object(S.jsx)("span",{});var g=c*o+1,f=Math.min(l,g+o-1);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"mt-4 flex flex-col",children:Object(S.jsx)("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:Object(S.jsx)("div",{className:"py-2 align-middle inline-block w-full sm:px-6 lg:px-8",children:Object(S.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(S.jsxs)("table",Object(u.a)(Object(u.a)({},m()),{},{className:"min-w-full divide-y divide-gray-200",children:[Object(S.jsx)("thead",{className:"bg-gray-50",children:b.map((function(e){return Object(S.jsx)("tr",Object(u.a)(Object(u.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(S.jsx)("th",Object(u.a)(Object(u.a)({scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(S.jsxs)("div",{className:"flex items-center justify-between",children:[e.render("Header"),Object(S.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(S.jsx)(E,{className:"w-4 h-4 text-gray-400"}):Object(S.jsx)(A,{className:"w-4 h-4 text-gray-400"}):Object(S.jsx)(C,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100"})})]})}))}))}))}))}),Object(S.jsx)("tbody",Object(u.a)(Object(u.a)({},x()),{},{className:"bg-white divide-y divide-gray-200",children:p.map((function(e,t){return h(e),Object(S.jsx)("tr",Object(u.a)(Object(u.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(S.jsx)("td",Object(u.a)(Object(u.a)({},e.getCellProps()),{},{className:"px-6 py-4",role:"cell",children:Object(S.jsx)("div",{className:"text-sm text-gray-500",children:e.render("Cell")})}))}))}))}))}))]}))})})})}),Object(S.jsx)("div",{className:"py-3 flex items-center justify-between",children:Object(S.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(S.jsxs)("div",{className:"flex gap-x-2 items-baseline",children:[Object(S.jsx)(n.a,{id:"table/showing",defaultMessage:"Showing"})," ".concat(g," - ").concat(f," "),Object(S.jsx)(n.a,{id:"table/of",defaultMessage:"of"})," ".concat(l," "),Object(S.jsx)(n.a,{id:"table/records",defaultMessage:"records"})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[Object(S.jsx)(k,{onClick:function(){r({pageIndex:Math.max(0,c-1),pageSize:o})},children:Object(S.jsx)(i.a,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),Object(S.jsx)(k,{children:Object(S.jsxs)("span",{className:"text-sm text-gray-700",children:[Object(S.jsx)("span",{className:"font-medium mx-1",children:c+1}),"/",Object(S.jsx)("span",{className:"font-medium mx-1",children:d})]})}),Object(S.jsx)(k,{onClick:function(){(c+1)*o<l&&r({pageIndex:c+1,pageSize:o})},children:Object(S.jsx)(i.b,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})})]})})]})};t.default=function(){var e=Object(s.useRef)(),t=Object(l.c)(y),a=t.data,r=t.currentPage,o=t.pageSize,d=t.totalCount,u=Object(l.b)(),j=r*o,m=j+o,x=a.slice(j,m),b=Object(c.a)().formatMessage,p=Object(s.useMemo)((function(){return[{Header:b({id:"home/user-name-header",defaultMessage:"User Name"}),accessor:"name",Cell:M,imgAccessor:"avatar_url",usernameAccessor:"login"},{Header:b({id:"home/info-header",defaultMessage:"Information"}),Cell:z,accessor:"location",bioAccessor:"bio",blogAccessor:"blog",companyAccessor:"company",followersAccessor:"followers",followingAccessor:"following",pubReposAccessor:"public_repos"}]}),[b]),g=Object(s.useCallback)((function(t){var r=t.pageIndex,s=t.pageSize;e&&e.current&&e.current.value&&(s*r+s>a.length?u(f(e.current.value,r,s)):u(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:h.a.SET_PAGE,payload:{page:e}}}(r)))}),[u,e,a]);return Object(S.jsx)("div",{className:"main",children:Object(S.jsx)("div",{className:"px-4 sm:px-8 lg:px-16 xl:px-20 mx-auto",children:Object(S.jsxs)("div",{className:"hero",children:[Object(S.jsx)("div",{className:"hero-headline flex flex-col items-center justify-center pt-12 text-center",children:Object(S.jsx)("h1",{className:" font-bold text-3xl text-gray-900",children:Object(S.jsx)(n.a,{id:"home/header",defaultMessage:"GitHub User Search"})})}),Object(S.jsx)("div",{className:"box pt-6",children:Object(S.jsx)("div",{className:"box-wrapper",children:Object(S.jsxs)("div",{className:" bg-white rounded flex items-center w-full p-3 shadow-sm border border-gray-200",children:[Object(S.jsx)("button",{className:"outline-none focus:outline-none",children:Object(S.jsx)(i.c,{className:"w-5 text-gray-600 h-5 cursor-pointer"})}),Object(S.jsx)("input",{"x-model":"q",className:"w-full pl-4 text-sm outline-none focus:outline-none bg-transparent",type:"search",placeholder:b({id:"home/search-placeholder",defaultMessage:"Search user name"}),ref:e,onKeyUp:function(t){("Enter"===t.key||13===t.keyCode)&&e&&e.current&&e.current.value&&u(f(e.current.value))}})]})})}),Object(S.jsx)("div",{className:"mt-6",children:Object(S.jsx)(P,{columns:p,data:x,fetchData:g,pageIndex:r,totalCount:d,pageSize:o})})]})})})}}}]);
//# sourceMappingURL=4.e9cd159d.chunk.js.map